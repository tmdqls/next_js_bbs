# **会員情報_処理機能技術書**

## **1. ユーザー情報登録**
- **パラメータ**:
  - `name` : ユーザー名
  - `email` : メールアドレス
  - `password` : パースワード

- **処理**: 
  - 会員登録情報の形式、妥当性をチェックする
  - パスワードを暗号化する
  - DBにユーザー情報を登録する

### **Usersテーブル**
| カラム名            | 登録値             |
|:-------------------|:-------------------|
| `email`            | パラメータ.`email`  |
| `password`         | パラメータ.`password` (暗号化後)|
| `name`             | パラメータ.`name`   |
| `created_at`       | 実行日 |

- **処理結果**: 
  - パラーメータ正常 :
    - 処理結果: OK
  - パラーメータ不正 :
    - 処理結果: NG

## **2. ユーザー情報チェック**
- **パラメータ**:
  - `email` : メールアドレス
  - `password` : パースワード

- **処理**: 
  - 会員情報の形式、妥当性をチェックする
  - ユーザ情報がDBに存在するかチェックする
  - ユーザー情報が存在した場合、リフレッシュトークン、アクセッサトークンを返す

### **Usersテーブル**
| カラム名           | 条件             |
|:------------------|:-------------------|
| `email`           | パラメータ.`email`  |
| `password`        | パラメータ.`password` (暗号化後) |

- **処理結果**: 
  - パラーメータ正常 :
    - 処理結果: OK
    - タスク結果: リフレッシュトークン、アクセッサトークン
  - パラーメータ不正 :
    - 処理結果: NG

## **3. ユーザー修正**
- **パラメータ**:
  - `jwt` : アクセッサトークン
  - `name` : ユーザー名
  - `password` : パースワード
- **処理**: 
  - 会員情報の形式、妥当性をチェックする
  - 該当のDBのユーザ情報を修正する
  - リフレッシュトークン、アクセッサトークンを返す

### **Usersテーブル**
| カラム名           | 修正対象条件      | 修正値         |
|:------------------|:--------------|:------------------|
| `email`           | `jwt`.`email`   | |
| `name`           || パラメータ.`name`|
| `password`       | | パラメータ.`password` (暗号化後) |
| `updated_at`       | |`実行日`  |

- **処理結果**: 
  - パラーメータ正常 :
    - 処理結果: OK
    - タスク結果: リフレッシュトークン、アクセッサトークン
  - パラーメータ不正 :
    - 処理結果: NG

## **4. ユーザー削除**
- **パラメータ**:
  - `jwt` : アクセッサトークン
- **処理**: 
  - DBのユーザ情報を削除する

### **Usersテーブル**
| カラム名           | 条件      |
|:------------------|:--------------|
| `email`           | `jwt`.`email`   |

- **処理結果**: 
  - パラーメータ正常 :
    - 処理結果: OK
  - パラーメータ不正 :
    - 処理結果: NG